<div
  style="display: flex;"
  class="ion-align-items-center ion-justify-content-end"
>
  <ion-note>
    {{ 'page.program.metrics.last-updated'|translate:{ date: lastUpdated } }}
  </ion-note>
  <ion-button
    size="small"
    fill="clear"
    color="medium"
    [title]="'common.update'|translate"
    [attr.aria-label]="'common.update'|translate"
    (click)="update()"
    id="metrics-update"
  >
    <ion-icon name="refresh" size="small" slot="icon-only"></ion-icon>
  </ion-button>
</div>

<table class="metrics-states--table">
  <colgroup>
    <col>
    <col [span]="paStates.length" class="state-collumn">
  </colgroup>
  <thead>
    <tr>
      <td></td>
      <th
        *ngFor="let col of paStates"
        scope="col"
        class="col-header"
        [attr.title]="col.explanation ? col.explanation : ''"
      >
        {{ col.label }}
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th
        scope="row"
        class="row-header"
      >
        {{ 'page.program.metrics.timeframe.payment'|translate }}
      </th>
      <td
        *ngFor="let col of paStates"
        class="cell-number"
      ></td>
    </tr>
    <tr>
      <th
        scope="row"
        class="row-header"
      >
        {{ 'page.program.metrics.timeframe.calendar-month'|translate }}
      </th>
      <td
        *ngFor="let col of paStates"
        class="cell-number"
      ></td>
    </tr>
    <tr>
      <th
        scope="row"
        class="row-header"
      >
        {{ 'page.program.metrics.timeframe.to-date'|translate }}
      </th>
      <td
        *ngFor="let col of paStates"
        class="cell-number"
      >{{ col.toDate }}</td>
    </tr>
  </tbody>
</table>
